<app-header [headerTitle]="'PAGES.DASHBOARD' | translate" [headerBack]=false></app-header>

<ion-content style="padding:10px;">
  <div style="padding:10px;"></div>
  <ion-card *ngIf="0">
  <div style="display:flex;padding: 10px;">
    <ion-title>Paymnet In Progress</ion-title>
    <ion-spinner name="bubbles"></ion-spinner>

   </div>
  </ion-card>
  <ion-card>
    <ion-card-header>

      <ion-avatar>
        <img src="assets/img/user1.png" />
      </ion-avatar>
      <div>
        <ion-card-title>{{'DASHBAORD.status' | translate }}: {{details?.dashboard_data?.yourStatus.toUpperCase()}} </ion-card-title>
        <ion-card-subtitle class="sub-title" (click)="shareReffralLink(details?.dashboard_data?.referralLink)">
          {{'DASHBAORD.referral_link' | translate }}</ion-card-subtitle>
      </div>
    </ion-card-header>
  </ion-card>
  <ion-card style="border: solid 1px #ccc;" *ngIf="getLastPayments?.length>0">
    <ion-card-header style="background-color: #858282;" >
      <ion-card-title> {{'AREA_OF_INTEREST.lastPaymnet' | translate }}</ion-card-title>
    </ion-card-header>
    <ion-card-content  *ngFor="let gPay of getLastPayments; let i = index" style="border: solid #858282 1px; margin:10px;border-radius:15px;
    padding: 10px;" [ngClass]="{'pending': gPay?.paymentStatus == 'pending', 'completed':  gPay?.paymentStatus == 'completed', 'failed':  gPay?.paymentStatus == 'failed' || gPay?.paymentStatus == 'cancelled'}">
      <!-- <div *ngIf="calculateDiff(gPay?.paymentDate)">
        jbb
            </div> -->
     <!-- <ion-list lines="none"  >
        <ion-item >
          <ion-label> -->
            <p>{{'AREA_OF_INTEREST.date' | translate }}:<span>{{gPay?.paymentDate}}
            </span></p>
          <!-- </ion-label>
          </ion-item>
          <ion-item>
            <ion-label> -->
            <p>  {{'AREA_OF_INTEREST.amount' | translate }}:<span>{{gPay?.totalAmount}}  &euro;
            </span></p>
          <!-- </ion-label>
          </ion-item>
          <ion-item >
            <ion-label> -->
              <p *ngIf="utility.deviceLang == 'de'">  {{'AREA_OF_INTEREST.status' | translate }}:<span>{{gPay?.statusGerman | uppercase }}
              </span></p>
              <p *ngIf="utility.deviceLang == 'en'">  {{'AREA_OF_INTEREST.status' | translate }}:<span>{{gPay?.statusEnglish | uppercase }}
              </span></p>
          <!-- </ion-label>
          </ion-item>
         
         
        </ion-list> -->
    </ion-card-content>
  </ion-card>


  <ion-card>
    <ion-card-header class="title-border">
      <ion-card-title>{{'DASHBAORD.openaction.title' | translate }}</ion-card-title>
    </ion-card-header>
    <ion-card-content class="">
      <ion-button class="card-btn" color="danger" expand="block" (click)="utility.goNext('/member-replacement')" *ngIf="details?.dashboard_data?.usersToBePlaced > 0 ">
        ({{details?.dashboard_data?.usersToBePlaced > 0 ?
        details?.dashboard_data?.usersToBePlaced:0}}){{'DASHBAORD.openaction.action1' | translate }}</ion-button>
     
      <ion-button class="card-btn" color="danger" expand="block" (click)="utility.goNext('/tabs/paymnet-option')" *ngIf="details?.dashboard_data?.myPaymentOption == ''">
        {{'DASHBAORD.openaction.action2' | translate }}</ion-button>

        <ion-button class="card-btn" color="danger" expand="block" (click)="utility.goNext('/tabs/commission-option')" *ngIf="details?.dashboard_data?.show_commission_payment_link == 'yes'">
          {{'DASHBAORD.openaction.action3' | translate }}</ion-button>

          <ion-button class="card-btn" color="danger" expand="block" *ngIf="details?.dashboard_data?.show_tax_form == 'yes'" (click)="utility.goNext('/tabs/partner-agreement')">
            {{'DASHBAORD.openaction.action4' | translate }}</ion-button>
            <!-- (click)="utility.goNext('/tabs/partner-agreement')"  -->
        
        <p style="padding: 10px;" *ngIf="details?.dashboard_data?.usersToBePlaced <= 0 && details?.dashboard_data?.myPaymentOption != '' && details?.dashboard_data?.show_tax_form == 'no' && details?.dashboard_data?.show_commission_payment_link == 'no' ">
          
          {{'DASHBAORD.no_action' | translate }}
          </p>
 
    </ion-card-content>
  </ion-card>
  <!-- prospect refferal -->
  <ion-card>
    <ion-card-header>

      <ion-avatar>
        <img src="assets/img/user.png" />
      </ion-avatar>
      <div class="refferral">
        <ion-card-title> {{'DASHBAORD.referral.title_pros' | translate }}</ion-card-title>
        <ion-card-subtitle class="sub-title" (click)="goTo('/tabs/user-managment/prospect')">
          {{'DASHBAORD.referral.prospect' | translate }}</ion-card-subtitle>
      </div>
    </ion-card-header>
  </ion-card>
  <!-- member referral -->
  <ion-card>
    <ion-card-header>

      <ion-avatar>
        <img src="assets/img/user3.png" />
      </ion-avatar>
      <div class="refferral">
        <ion-card-title>{{'DASHBAORD.referral.title_mem' | translate }}</ion-card-title>
        <ion-card-subtitle class="sub-title" (click)="goTo('/tabs/user-managment/member')">{{'DASHBAORD.referral.member'
          | translate }}</ion-card-subtitle>
      </div>
    </ion-card-header>
  </ion-card>

  <!-- your rank -->
  <ion-card *ngIf="details?.dashboard_data?.yourStatus == 'partner'">
    <ion-card-header class="title-border diffColor blue">
      <ion-card-title>{{'DASHBAORD.yourrank.title' | translate }}</ion-card-title>
    </ion-card-header>
    <ion-card-content class="">
      <ion-list lines="none" class="title-border" style="margin:2px 0px">
        <ion-item *ngIf="details?.dashboard_data?.rank">
          <ion-label>{{'DASHBAORD.yourrank.title' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.rank!= '' ? details?.dashboard_data?.rank:"--"}}</span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.GV">
          <ion-label>{{'DASHBAORD.yourrank.gvcounting' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.GV!= '' ? details?.dashboard_data?.GV:"--"}}
          </span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.DV">
          <ion-label>{{'DASHBAORD.yourrank.dv' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.DV!= '' ? details?.dashboard_data?.DV:"--"}}
          </span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.rankRewardCycle">
          <ion-label>{{'DASHBAORD.yourrank.rrc' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.rankRewardCycle!= '' ? details?.dashboard_data?.rankRewardCycle:"--"}}
          </span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.leaderBonusDays">
          <ion-label>{{'DASHBAORD.yourrank.lbd' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.leaderBonusDays!= '' ? details?.dashboard_data?.leaderBonusDays:"--"}}
          </span>
        </ion-item>
      </ion-list>

      <ion-list lines="none">
        <ion-item *ngIf="details?.dashboard_data?.nextRank">
          <ion-label> {{'DASHBAORD.yourrank.nextrank' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.nextRank!= '' ? details?.dashboard_data?.nextRank:"--"}}
          </span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.GVRequired">
          <ion-label>{{'DASHBAORD.yourrank.gvcountingReq' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.GVRequired!= '' ? details?.dashboard_data?.GVRequired:"--"}}
          </span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.membersRequired">
          <ion-label>{{'DASHBAORD.yourrank.memReq' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.membersRequired!= '' ? details?.dashboard_data?.membersRequired:"--"}}
          </span>
        </ion-item>
        <ion-item *ngIf="details?.dashboard_data?.DMVRequired">
          <ion-label>{{'DASHBAORD.yourrank.dvReq' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.DMVRequired!= '' ? details?.dashboard_data?.DMVRequired:"--"}}
          </span>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>


  <!-- line -->
  <ion-card *ngIf="details?.dashboard_data?.yourStatus == 'partner'">
    <ion-card-header class="title-border diffColor green">
      <ion-card-title>{{'DASHBAORD.line.title' | translate }} 1 </ion-card-title>
    </ion-card-header>
    <ion-card-content class="">
      <ion-list lines="none" class="" style="margin:2px 0px">
        <ion-item >
          <ion-label>{{'DASHBAORD.line.members' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.membersLeg1!= '' ? details?.dashboard_data?.membersLeg1:"--"}}
          </span>
        </ion-item>
        <ion-item >
          <ion-label>{{'DASHBAORD.line.gv' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.GVLeg1!= '' ? details?.dashboard_data?.GVLeg1:"--"}}
          </span>
        </ion-item>
        <ion-item >
          <ion-label>{{'DASHBAORD.line.gvcounting' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.GVCountingLeg1!= '' ? details?.dashboard_data?.GVCountingLeg1:"--"}}
          </span>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>
  <!-- line -->
  <ion-card *ngIf="details?.dashboard_data?.yourStatus == 'partner'">
    <ion-card-header class="title-border diffColor yellow">
      <ion-card-title>{{'DASHBAORD.line.title' | translate }} 2</ion-card-title>
    </ion-card-header>
    <ion-card-content class="">
      <ion-list lines="none" class="" style="margin:2px 0px">
        <ion-item >
          <ion-label>{{'DASHBAORD.line.members' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.membersLeg2!= '' ? details?.dashboard_data?.membersLeg2:"--"}}
          </span>
        </ion-item>
        <ion-item >
          <ion-label>{{'DASHBAORD.line.gv' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.GVLeg2!= '' ? details?.dashboard_data?.GVLeg2:"--"}}
          </span>
        </ion-item>
        <ion-item >
          <ion-label>{{'DASHBAORD.line.gvcounting' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.GVCountingLeg2!= '' ? details?.dashboard_data?.GVCountingLeg2:"--"}}
          </span>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>
  <!-- line -->
  <ion-card *ngIf="details?.dashboard_data?.yourStatus == 'partner'">
    <ion-card-header class="title-border diffColor red">
      <ion-card-title>{{'DASHBAORD.line.title' | translate }} 3</ion-card-title>
    </ion-card-header>
    <ion-card-content class="">
      <ion-list lines="none" class="" style="margin:2px 0px">
        <ion-item >
          <ion-label>{{'DASHBAORD.line.members' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.membersLeg3!= '' ? details?.dashboard_data?.membersLeg3:"--"}}
           </span>
        </ion-item>
        <ion-item >
          <ion-label>{{'DASHBAORD.line.gv' | translate }} :</ion-label>
          <span>{{details?.dashboard_data?.GVLeg3!= '' ? details?.dashboard_data?.GVLeg3:"--"}}
           </span>
        </ion-item>
        <ion-item >
          <ion-label>{{'DASHBAORD.line.gvcounting' | translate }}:</ion-label>
          <span>{{details?.dashboard_data?.GVCountingLeg3!= '' ? details?.dashboard_data?.GVCountingLeg3:"--"}}
            </span>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- products -->

  <ion-card *ngIf="details?.products != null && details?.products.length > 0">
    <ion-card-header class="title-border  ">
      <ion-card-title>{{'DASHBAORD.products.title' | translate }}</ion-card-title>
    </ion-card-header>
    <ion-card-content class="products">
      <ion-list lines="none" class="" *ngFor="let prod of details?.products; let i = index">

        <ion-item>
          {{prod?.packageName}}
        </ion-item>
        <ion-item >
          {{'DASHBAORD.products.expiry' | translate }} :
          <span *ngIf="prod?.expiryDate && prod?.expiryDate ">
            {{prod?.validTill != '' ? prod?.validTill: '0 Day'}}
          </span>
        </ion-item>


      </ion-list>
      <ion-button class="btn" color="danger" expand="block" (click)="utility.goNext('/tabs/myproducts')">
        {{'DASHBAORD.products.btn' | translate }}
      </ion-button>
    </ion-card-content>
  </ion-card>

  <div style="padding:10px;"></div>
</ion-content>