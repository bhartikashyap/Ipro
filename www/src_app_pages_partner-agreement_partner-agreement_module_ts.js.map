{"version":3,"file":"src_app_pages_partner-agreement_partner-agreement_module_ts.js","mappings":"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","sources":["./src/app/pages/partner-agreement/partner-agreement-routing.module.ts","./src/app/pages/partner-agreement/partner-agreement.module.ts","./src/app/pages/partner-agreement/partner-agreement.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PartnerAgreementPage } from './partner-agreement.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PartnerAgreementPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PartnerAgreementPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PartnerAgreementPageRoutingModule } from './partner-agreement-routing.module';\n\nimport { PartnerAgreementPage } from './partner-agreement.page';\n\nimport { HttpClient } from \"@angular/common/http\";\nimport { TranslateHttpLoader } from \"@ngx-translate/http-loader\";\nimport { TranslateLoader, TranslateModule } from \"@ngx-translate/core\";\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\n}\nimport {ShareComponentModule} from '../../components/share-component-module';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PartnerAgreementPageRoutingModule,\n    ShareComponentModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n    })\n  ],\n  declarations: [PartnerAgreementPage]\n})\nexport class PartnerAgreementPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UtilService } from 'src/app/services/util.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ApiService } from 'src/app/services/api.service';\n// import { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { pattern } from \"src/app/utility/pattern\";\n@Component({\n  selector: 'app-partner-agreement',\n  templateUrl: './partner-agreement.page.html',\n  styleUrls: ['./partner-agreement.page.scss'],\n})\nexport class PartnerAgreementPage implements OnInit {\n  next: any = false;\n  partner: any;\n  profile: any;\n  lastname: any;\n  firstnameMessage: any;\n  lastnameMessage: any;\n  firstname: any;\n  form: any;\n  selected_option: any;\n  financeDepart: any;\n  taxId: any;\n  VATId: any;\n  errorText: any;\n  taxIderror: any;\n\n  constructor(private utility: UtilService, private domSanit: DomSanitizer, public apiService: ApiService) {\n    this.partner = this.domSanit.bypassSecurityTrustResourceUrl(this.utility.pdfLink[4].link);\n    this.next = false;\n    // this.utility.openPdfLinks(this.utility.pdfLink[4].link,'Partner');\n  }\n\n  ngOnInit() {\n    this.getProfile();\n  }\n\n  initForm() {\n    // this.form = this.fb.group({\n    //   selected_plan: [\"\", []],\n    //   role: [\"\", [Validators.required]],\n    //   email: [\"\", [Validators.required, Validators.pattern(pattern.email)]],\n    //   streetname: [\"\", [Validators.required, Validators.maxLength(100)]],\n    //   nr: [\"\", [Validators.required, Validators.maxLength(50)]],\n    //   city: [\"\", [Validators.required, Validators.maxLength(100)]],\n    // });\n  }\n\n  async getProfile() {\n    let dob;\n    let loading = await this.utility.presentLoading();\n    let result: any = await this.apiService.getProfile();\n    loading.dismiss();\n    if (result.status == 1) {\n      this.profile = result.data.profile ? result.data.profile : null;\n      console.log(this.profile);\n      this.VATId = this.profile?.VATId;\n      this.taxId = this.profile?.taxId;\n      // if (this.profile.countryId == \"84\") {\n      //   this.next = false;\n      // }\n      // else {\n      //   this.next = true;\n      // }\n    }\n  }\n\n  async checkDigitalSign() {\n    this.lastnameMessage = '';\n    this.firstnameMessage = '';\n    let error = 0;\n\n    if (this.lastname == undefined || this.lastname == '') {\n      this.firstnameMessage = this.utility.translateText('QUESTIONNAIRE').completeSign;\n      error = 1;\n    }\n    if (this.firstname == undefined || this.firstname == '') {\n      this.firstnameMessage = this.utility.translateText('QUESTIONNAIRE').completeSign;\n      error = 1;\n    }\n\n\n    if (this.firstname.toLowerCase() != this.profile.firstName.toLowerCase()) {\n      this.firstnameMessage = this.utility.translateText('QUESTIONNAIRE').firstNameError;\n      error = 1;\n    }\n    if (this.lastname.toLowerCase() != this.profile.lastName.toLowerCase()) {\n      this.lastnameMessage = this.utility.translateText('QUESTIONNAIRE').lastNameError;\n      error = 1;\n\n    }\n\n\n    if (!error) {\n      let data: any;\n      // if (this.profile.countryId == \"84\") {\n        data = {\n          financeDepart: this.financeDepart ? this.financeDepart : '',\n          taxId: this.taxId,\n          VATId: this.VATId ? this.VATId : '',\n          selected_option: this.selected_option\n        };\n      // }\n      console.log(data)\n\n      let loading = await this.utility.presentLoading();\n      let result: any = await this.apiService.partnerAgreement(data);\n      loading.dismiss();\n      console.log(result)\n      if (result.status) {\n        console.log(result)\n        this.utility.presentToast(this.utility.translateText('MSG').agreementSaved, \"top\")\n        this.utility.goBack();\n      }\n\n    }\n\n\n\n  }\n\n async  goForSign() {\n    console.log(this.selected_option);\n    console.log(this.taxId);\n    this.errorText = '';\n    this.taxIderror = '';\n\n    if (this.profile.countryId == \"84\") {\n      if (this.selected_option == undefined || this.selected_option == null || this.selected_option == \"\") {\n        this.errorText = this.utility.translateText('Agreement').error ;\n      }\n    }\n\n    if (this.selected_option == 'check3') {\n      if (this.taxId == undefined || this.taxId == null|| this.taxId == \"\") {\n        this.taxIderror =this.utility.translateText('Agreement').taxerror ;\n      }\n      else{\n       \n      }\n    }\n    if (this.VATId != undefined && this.VATId != null && this.VATId != \"\") {\n      this.errorText = \".........\";\n      let loading = await this.utility.presentLoading();\n      let result: any = await this.apiService.validateTaxID({\"VATId\":this.VATId});\n      loading.dismiss();\n      if(result.status ){\n        this.errorText =  \"\";\n        this.taxIderror = \"\";\n        // this.next = true;\n      }\n      else{ \n        this.taxIderror = this.utility.translateText('Agreement').UIDerror;\n      }\n      \n    }\n\n    if (this.errorText == '' && this.taxIderror == '') {\n      this.next = !this.next;\n    }\n  }\n\n  async openBrowser(link){\n  this.utility.openPdfLinks(this.utility.pdfLink[4].link,'partner')\n  }\n  \n\n}\n"],"names":[],"sourceRoot":"webpack:///"}