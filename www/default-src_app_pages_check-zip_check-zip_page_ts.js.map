{"version":3,"file":"default-src_app_pages_check-zip_check-zip_page_ts.js","mappings":"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","sources":["./src/app/pages/check-zip/check-zip.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { MenuController, NavController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { message } from 'src/app/utility/message'; \nimport { EnvironmentService } from 'src/app/services/environment.service';\n@Component({\n  selector: \"app-check-zip\",\n  templateUrl: \"./check-zip.page.html\",\n  styleUrls: [\"./check-zip.page.scss\"],\n})\nexport class CheckZipPage implements OnInit {\n  form: FormGroup;\n  role:any;\n  get formControls() {\n    return this.form.controls;\n  }\n  submitted = false;\n  validationMessage: any;\n  zipCodeFilled:any=false;\n  analystList:any=[];\n  lightAnlysis:any=false;\n  analyst:any=\"\";\n  errorMsg:any;\n  constructor(\n    private router: Router,\n    private menuCtrl: MenuController,\n    private _translate: TranslateService,\n\n    private navController: NavController,\n    private formBuilder: FormBuilder,\n    private utility: UtilService,\n    private apiService: ApiService,\n    private envr :EnvironmentService\n  ) {}\n  ionViewDidEnter() {\n    this.menuCtrl.enable(false);\n    this.getProfile();\n    console.log( this.utility.translateText('MSG').currentlyUnavailable)\n  }\n  initForm() {\n    this.form = this.formBuilder.group({\n      zip: [\"\", [Validators.required, Validators.maxLength(100)]],\n    });\n    let messages = this.utility.translateText('MSG')\n    this.validationMessage = {\n      zip: [\n        { type: \"required\", message: messages.required },\n        { type: \"maxlength\", message: message.maxLength(100,messages.maxLength,messages.characters) },\n      ],\n    };\n  }\n  ngOnInit() {\n    this.initForm();\n    this.menuCtrl.enable(false);\n  }\n\n\n  async getProfile(){\n    this.zipCodeFilled = false;\n    let result: any = await this.apiService.getProfile();\n    if(result && result?.data?.profile?.zipCode){\n     \n      this.role = result?.data?.profile?.role\n      if(result?.data?.profile?.role != 'Prospect'){\n        this.zipCodeFilled = true;\n        this.form.get(\"zip\").setValue(result?.data?.profile?.zipCode);\n        this.submit();\n\n      }\n      else{\n        this.zipCodeFilled = false;\n        this.form.get(\"zip\").setValue(\"\");\n      }\n    }\n\n   \n  }\n  async submit() {\n    this.submitted = true;\n    if (this.form.valid ) {\n      this.submitted = false;\n      this.zipCodeFilled = true;\n      let loading = await this.utility.presentLoading();\n      this.apiService\n        .listOfAnalaysts({\n          zipCode: this.form.value.zip,\n        })\n        .then((res: any) => {\n          loading.dismiss();\n          if (!res.status) {\n          //   this.utility.presentAlert(\n          //     \"Alert\",\n          //     \"\",\n          //     [],\n          //     this.utility.translateText('MSG').currentlyUnavailable, [\n          //       {\n          //         text: this.utility.translateText(\"MODALS\").BUTTONS.OK,\n          //         handler: async() => {\n          //           //this.utility.getPlanDetail(this.envr.plans.bodyAnlaysis);\n          //         }\n          //       }]\n          //   );\n           } \n        \n           if(res.analysts_list != undefined && res.analysts_list != null){\n           \n            this.analystList = res?.analysts_list\n            this.analystList.forEach(element => {\n              console.log(element)\n              if(element.name != '' && element.name.indexOf('-')> -1 && element.name.indexOf(',')> -1){\n                console.log(element)\n                let nameSplited = element.name.split('-');\n                let completeName =nameSplited[0];\n               \n                let splitfromSpace = nameSplited[1].split(\" \");\n                let zipCode = splitfromSpace[1]\n                //nameSplited[1].substring( 0, nameSplited[1].indexOf(\",\"));\n                console.log(splitfromSpace);\n\n                let city =  splitfromSpace[2]\n                //nameSplited[1].substring( 0, nameSplited[1].indexOf(\",\"));[1].split(' ')[1];\n                let distance = splitfromSpace[3] +splitfromSpace[4]\n                //nameSplited[1].substring( 0, nameSplited[1].indexOf(\",\"));[1].split(' ')[2]+splitfromComma[1].split(' ')[3];\n                element['updatedName'] = \" \"+completeName +\"  \"+  distance ;\n                element['updatedNames'] =zipCode +\" \"+ city;\n              }\n            });\n            console.log(this.analystList)\n           }\n         \n        })\n        .catch((err) => {\n          loading.dismiss();\n        });\n    }\n  }\n\n\n  async changeAnlayst(event){\n    console.log(event)\n\n  }\n\n async  confirmSubmission() {\n    console.log(this.lightAnlysis,this.analyst)\n    if(this.analyst == '' && !this.lightAnlysis){\n     this.errorMsg = this.utility.translateText(\"BOOKING_ANALYSIS\").errorMsg;\n    }\n    else{\n      this.errorMsg = \"\";\n      let data ={\n        zipCode :this.form.value.zip,\n        \n      }\n      // if(this.lightAnlysis){\n        data[\"select_analysis_light\"] = this.lightAnlysis\n      // }\n      // else{\n        data[\"analyst\"] = this.analyst\n     // }\n       \n     let result:any = await this.apiService.bookAnlaysis(data);\n     if(result?.status){\n      // this.utility.getCart(\"\");\n      let detail  = await this.utility.getStorage('Prod')\n      if(detail != undefined && detail != null){\n        detail = JSON.parse(detail);\n        detail[\"disableCart\"] = true;\n        detail[\"added_to_cart\"]='yes';\n        this.utility.setStorage('Prod',JSON.stringify(detail))\n      }\n      \n    this.utility.closeModal();\n    this.utility.goNext('tabs/basket')\n     }\n    }\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}