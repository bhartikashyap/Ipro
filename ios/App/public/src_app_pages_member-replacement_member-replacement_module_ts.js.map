{"version":3,"file":"src_app_pages_member-replacement_member-replacement_module_ts.js","mappings":"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","sources":["./src/app/pages/member-replacement/lines/lines.page.ts","./src/app/pages/member-replacement/member-replacement-routing.module.ts","./src/app/pages/member-replacement/member-replacement.module.ts","./src/app/pages/member-replacement/member-replacement.page.ts"],"sourcesContent":["import { Component, OnInit,Input,Output,EventEmitter } from '@angular/core';\nimport { MenuController, NavController,ModalController } from '@ionic/angular';\nimport { UtilService } from 'src/app/services/util.service';\n@Component({\n  selector: 'app-lines',\n  templateUrl: './lines.page.html',\n  styleUrls: ['./lines.page.scss'],\n})\nexport class LinesPage implements OnInit {\n  @Input() placementTree: any;\n  @Input() leg: any;\n  @Input() userId:any;\n  @Input() levelUpId:any;\n  @Output() openPopUp = new EventEmitter<object>();\n  @Output() lowestLevel = new EventEmitter<number>();\n  @Output() levelUp = new EventEmitter<object>();\n  constructor(private util:UtilService) { }\n\n\n  ngOnInit() {\n  }\n\n  \n\n  openPopUps(userId,leg){\n    console.log(userId,leg)\n    let data = {\n      userId:userId,\n      leg:leg\n    } //this causing some issue\n   \n    this.util.setStorage('memberId',userId);\n    this.util.setStorage('level',leg);\n    this.openPopUp.emit(data);\n  //  data = {\n  //     userId:\"\",\n  //     leg:\"\"\n  //   }\n  }\n\n  levelUps(userId,leg){\n    let data = {\n      userId:userId,\n      leg:leg\n    }\n    this.levelUp.emit(data);\n\n  }\n  lowestLevels(userId){\n    \n    this.lowestLevel.emit(userId);\n\n\n  }\n  replaceRank(rank){\n    if(rank != '' && rank != undefined && rank != null){\n       if(rank.indexOf('MANAGER')>-1){\n         \n         rank = 'M'+rank.split('MANAGER')[1];\n         \n       }\n       else if(rank.indexOf('LEADER')>-1){\n        rank = 'L'+rank.split('LEADER')[1];\n        // rank.replace('LEADER','L');\n       \n      }\n     // console.log(rank)\n      return rank;\n    }\n    else return \"--\";\n\n  }\n  \n  \n\n  isEmptyObject(obj) {\n    // console.log(obj)\n    return Object.keys(obj).length === 0;\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MemberReplacementPage } from './member-replacement.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MemberReplacementPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MemberReplacementPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MemberReplacementPageRoutingModule } from './member-replacement-routing.module';\n\nimport { MemberReplacementPage } from './member-replacement.page';\nimport { LinesPage } from './lines/lines.page';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport {ShareComponentModule} from '../../components/share-component-module';\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MemberReplacementPageRoutingModule,\n    ShareComponentModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n    }),\n  ],\n  declarations: [MemberReplacementPage,LinesPage]\n})\nexport class MemberReplacementPageModule {}\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ScreenOrientation } from '@awesome-cordova-plugins/screen-orientation/ngx';\nimport { UserModalPage } from 'src/app/components/user-modal/user-modal.page';\nimport { ApiService } from 'src/app/services/api.service';\nimport { UtilService } from 'src/app/services/util.service';\n\nimport {\n  ModalController,\n  NavParams,\n  NavController\n} from '@ionic/angular';\n\n@Component({\n  selector: 'app-member-replacement',\n  templateUrl: './member-replacement.page.html',\n  styleUrls: ['./member-replacement.page.scss'],\n})\nexport class MemberReplacementPage implements OnInit {\n  placementTree: any;\n  searchItem: any = '';\n  subscription: any;\n  loggedInuser: any;\n  searchType: any;\n  @Output() popUpData = new EventEmitter<string>();\n  loggedInuserInsearch:any;\n  constructor(private screenOrientation: ScreenOrientation,\n    private apiSer: ApiService,\n    private utilSer: UtilService,\n    private navCtrl: NavController) { }\n\n  ngOnInit() {\n    // get current\n    console.log(this.screenOrientation.type); // logs the current orientation, example: 'landscape'\n\n    // set to landscape\n\n  }\n\n  async ionViewWillEnter() {\n    this.loggedInuser = JSON.parse(await this.utilSer.getStorage('AUTH_USER')).userId\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n\n    // allow user rotate\n    // this.screenOrientation.unlock();\n\n    // detect orientation changes\n    this.screenOrientation.onChange().subscribe(\n      () => {\n        console.log(\"Orientation Changed\");\n      }\n    );\n    this.getPlacementTree(\"tree\", '', 0);\n  }\n\n  back() {\n    this.navCtrl.back();\n  }\n\n  async getPlacementTree(type, event, userId) {\n    this.searchType = '';\n    this.loggedInuserInsearch=false;\n   let loggedInuserInsearch=false;\n    this.placementTree = {};\n    let loading = await this.utilSer.presentLoading();\n    let response: any\n    if (type == 'tree') {\n      this.searchType = type;\n      this.loggedInuserInsearch=false;\n      loggedInuserInsearch=false;\n      response = await this.apiSer.placementTree();\n\n    }\n    else if (type == 'search') {\n      let searchItem = {\n        searchFor: userId\n      }\n      response = await this.apiSer.searchMember(searchItem);\n      if(loggedInuserInsearch){\n        this.loggedInuserInsearch = true;\n        this.getPlacementTree('tree', '', 0); \n      }\n      if(response.data?.levelUpUser == this.loggedInuser){\n        loggedInuserInsearch= true;\n        //this.getPlacementTree('tree', '', 0); \n      }\n     \n\n    }\n    loading.dismiss();\n    //if (response.status == 1) {\n    this.placementTree = response;\n    // }\n    // else{\n    //   this.placementTree = {}\n    // }\n    console.log(this.placementTree)\n  }\n\n  async openPopUp(data) {\n    // this.subscription.unsubscribe();\n    let memberId = data.userId;\n    let leg = data.leg;\n    memberId = await this.utilSer.getStorage('memberId');\n    leg = await this.utilSer.getStorage('level');\n\n    var counter = 0;\n    this.utilSer.openPopup(UserModalPage, \"member-place\", 'modal-member-place', true);\n    this.subscription = this.utilSer.currentMessage.subscribe(message => {\n      console.log(message)\n      console.log(this.subscription)\n\n      if (message == 'pop closed') {\n        this.utilSer.changeMessage(\"\");\n        // if(counter == 1){\n        this.placeMember(memberId, leg);\n\n        // }\n\n        this.utilSer.removeStorage('memberId');\n        this.utilSer.removeStorage('level');\n        this.utilSer.closeModal();\n      }\n      if (this.subscription != undefined) {\n        this.subscription.unsubscribe();\n\n      }\n    }, () => {\n      console.log(\"error\")\n\n    }, () => {\n      console.log(\"complete\")\n    })\n\n\n\n  }\n\n  async searchPopup() {\n\n    this.utilSer.openPopup(UserModalPage, \"search\", 'reconfirm', true);\n    this.subscription = this.utilSer.currentMessage.subscribe(message => {\n      console.log(message)\n      if (message.indexOf('=') > 0) {\n        let searchItem = message.split('=')[1];\n        this.getPlacementTree('search', '', searchItem);\n        this.utilSer.changeMessage(\"\")\n\n        this.subscription.unsubscribe();\n\n\n      }\n    })\n\n\n  }\n\n  goTohome() {\n    this.utilSer.goNext('/tabs/dashboard/defaultDash');\n  }\n\n  async placeMember(memberId, leg) {\n    let loading = await this.utilSer.presentLoading();\n    let placeMem = {\n      memberId: memberId,\n      memberIdToBePlaced: this.utilSer.memberPlacedUuserId,\n      leg: leg\n    }\n    let response: any = await this.apiSer.placeMember(placeMem);\n    loading.dismiss();\n    if (response.status == 1) {\n      this.utilSer.presentToast(\"Member placed successfully.\", \"top\");\n      this.getPlacementTree('tree', '', memberId);\n      // if(this.searchItem != ''){\n      //   this.getPlacementTree('search','');\n      // }\n      // else{\n      //   this.getPlacementTree('tree','');\n      // }\n      //this.placementTree = response.data\n    }\n    else {\n      this.utilSer.presentToast(response.msg, \"top\");\n    }\n  }\n\n  async lowestLevel(id) {\n    this.searchType = '';\n    if (id != undefined && id != '') {\n      let loading = await this.utilSer.presentLoading();\n      let lowest = {\n        memberId: id,\n\n      }\n      let response: any = await this.apiSer.getLowLevel(lowest);\n      loading.dismiss();\n      if (response.status == 1) {\n        this.placementTree = response;\n        /// this.utilSer.presentToast(\"Member placed successfully.\",\"top\");\n\n      }\n      else {\n        this.utilSer.presentToast(response.msg, \"top\");\n      }\n\n    }\n  }\n\n  beforelevelUp(userId, level) {\n    let data = {\n      userId: userId,\n      leg: level\n    }\n    this.utilSer.setStorage('memberId', userId);\n    this.utilSer.setStorage('level', level);\n    if (userId == this.loggedInuser) {\n      data = {\n        userId: userId,\n        leg: 'top'\n      }\n    }\n    this.levelUp(data)\n\n\n  }\n  async levelUp(data) {\n    console.log(data)\n    let id = data.userId;\n    let level = data.leg;\n\n    if (id != undefined && id != '') {\n      if (level == 'top') {\n        this.getPlacementTree('tree', '', 0);\n      }\n      else {\n        this.getPlacementTree('search', '', id);\n\n      }\n\n    }\n\n  }\n  isEmptyObject(obj) {\n    return Object.keys(obj).length === 0;\n  }\n\n\n\n  cancelSearch() {\n    this.searchItem = '';\n    this.getPlacementTree('tree', '', 0)\n  }\n\n\n  addNewItem(value: string) {\n    this.popUpData.emit(value);\n  }\n\n\n  ionViewDidLeave() {\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n\n  }\n\n\n\n  ngOnDestroy() {\n    ///this.subscription.unsubscribe();\n    //this.utilSer.currentMessage.unsubscribe();\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}